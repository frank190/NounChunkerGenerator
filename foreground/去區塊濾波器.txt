去_NN 区块_NN 滤波器_NN

去区块_NN 滤波器_NN （_PU ，_PU 缩写_VV ：_PU DBF_NN ）_PU 又_AD 称_VV 去块_NN 效应_NN 滤波器_NN 是_VC 一_CD 种_M 减少_VV 在_P 区块_NN 边界_NN 产生_VV 视觉_NN 上_LC 瑕疵_VV 的_DEC 滤波器_NN 。_PU 这_DT 种_M 视觉_NN 瑕疵_NN 可_VV 称为_VV 区块_NN 效应_NN （_PU BlockingEffect_NN ）_PU ，_PU 这_DT 种_M 效应_NN 主要_AD 构成_VV 原因_NN 是_VC 因为_P 以_P 区块_NN 为_VC 基础_NN （_PU Block_NN -_PU Based_NN ）_PU 的_DEG 编_VV 解码器_NN （_PU Codec_NN ）_PU 所_MSP 造成_VV 的_DEC 人造_JJ 边界_NN （_PU BlockingArtifacts_NN ）_PU 。_PU 以_P 区块_NN 为_VV 基底_NN 的_DEC 编_VV 解码器_NN 有_VE 很多_CD 种_M ，_PU H_NN ._PU 264_CD /_PU 高阶_JJ 视讯_NN 编码_NN （_PU AdvancedVideoCoding_NN ,_PU AVC_NN ）_PU 以及_CC H_CD ._PU 265_CD /_PU 高_JJ 效率_NN 视讯_NN 编码_NN （_PU High_JJ EfficiencyVideoCoding_NR ,_PU HEVC_NR ）_PU 都_AD 是_VC 这_DT 类型_NN 的_DEG 编_JJ 解码器_NN ，_PU 而_CC 这些_DT 编_VV 解码器_NN 均_AD 会_VV 在_P 解码_NN （_PU Decode_VV ）_PU 过程_NN 中_LC 利用_VV 去区块_NN 滤波器_NN 将_BA 区块_NN 效应_NN 的_DEG 影响_NN 降低_VV 以_MSP 改善_VV 视讯_NN 影像_VV 的_DEC 品质_NN 。_PU

以_P 区块_NN 为_VV 基础_NN 的_DEC 编_VV 解码器_NN 在_P 预测_NN （_PU Prediction_NN ）_PU 或_CC 是_VC 转换_NN （_PU Transform_NN ）_PU 编码_NN 时_LC ，_PU 无论_AD 是_VC 高阶_JJ 视讯_NN 编码_NN 中_LC 的_DEG 宏区块_NN （_PU Macroblock_NN ）_PU 或_CC 是_VC 高_JJ 效率_NN 视讯_NN 编码_NN 中_LC 的_DEG 编码_NN 树单元_NN （_PU CodingTreeUnit_NN ）_PU 都_AD 会_VV 将_BA 影像_NN 分成_VV 区块_NN 再_AD 做_VV 编码_NN 。_PU 因此_AD 影像_VV 重建_VV 时_LC 会_VV 造成_VV 在_P 区块_NN 间_LC 边缘_NN 处_NN 不_AD 连续_VV 的_DEC 现象_NN ，_PU 这_DT 个_M 现象_NN 称为_VV 区块_NN 效应_NN ，_PU 而_CC 这些_DT 区块_NN 边缘_NN 间_LC 视觉_NN 上_LC 的_DEG 不_AD 连续_AD 称为_VV 人造_JJ 边界_NN 。_PU 人造_NN 区块_NN 主要_AD 成因_VV 可_VV 在_P 细_AD 分成_VV 两_CD 个_M ，_PU 第一_OD 个_M 是_VC 因为_P 预测_VV 时_LC 出现_VV 不_AD 準_VA 的_DEC 地方_NN 称为_VV 残量_NN （_PU Residual_NN ）_PU ，_PU 残量_NN 会_VV 利用_VV 离散_PN 余弦_NN 变换_NN （_PU D_CD is_M creteCosineTransform_NR ,_PU DCT_NR ）_PU 做_VV 量化_JJ （_PU Quantization_NN ）_PU ，_PU 由于_P 量化_VV 与_P 反量化_NN 会_VV 产生_VV 误差_NN ，_PU 因此_AD 会_VV 在_P 区块_NN 边界_NN 上_LC 产生_VV 视觉_NN 上_LC 的_DEC 不_AD 连续_VV 。_PU 第二_OD 个_M 原因_NN 是_VC 来自_DT 运动_NN 补偿_NN ，_PU 同_DT 一_CD 个_M 画面_NN 内_LC 相邻_VV 区块_NN 可能_VV 不_AD 是_VC 从前_AD 几_CD 个_M 编码_NN 影像_NN 中_LC 相邻_VV 区块_NT 取得_VV 来_MSP 做_VV 预测_VV ，_PU 因此_AD 造成_VV 不_AD 连续_VV 的_DEC 现象_NN 。_PU 同样_VA 地_DEC ，_PU 画面_NN 内_LC 预测_VV 的_DEC 方式_NN 也_CC 可_VV 能_VV 会造_VV 成_VV 影像_NN 不_AD 连续_VV 。_PU
去区块_NN 滤波器_NN 主要_AD 有_VE 三_CD 个_M 工作_NN ，_PU 分別_NR 边界_NN 强度_NN 计算_NN （_PU BoundaryStrengthComputation_NR ）_PU 、_PU 边界_NN 分析_NN （_PU BoundaryAnalysis_NN ）_PU 及_CC 滤波器_NN 应用_NN （_PU F_CD il_M terImplementation_NR ）_PU 。_PU

高阶_JJ 视讯_NN 编码_NN 的_DEC 去区块_NN 滤波器_NN 会_VV 对_P 每_DT 个_M 宏区_NN 块做_NN 滤_NN 波_LC ，_PU 其_PN 滤波_NN 顺序_VV 为_VC 由_P 左上_VV 到_VV 右下_NN 。_PU 下面_NN 详细_AD 介绍_VV 高阶_JJ 视讯_NN 编码_NN 如何_AD 做去_VV 区块_NN 编码_NN ，_PU 首先_AD 将_BA 一_CD 个_M 16x16_CD 的_DEG 宏区块_NN 切割_VV 成_VV 更_AD 小_VA 的_DEC 4x4_NN 区块_NN ，_PU 如_P 图_NN 一_CD 所_MSP 示_VV 。_PU 每_DT 个_M 4x4_NN 的_DEG 区块_NN 会_VV 做到_VV 滤波_NN 的_DEG 边界_NN 为_VC 左_JJ 边跟_NN 上面_LC 的_DEG 边界_NN ，_PU 分別_NR 属于_VV 垂直_JJ 边界_NN 与_P 水平_JJ 边界_NN 。_PU 先_AD 利用_VV 水平_JJ 滤波器_NN 对_P 垂直_JJ 边界_NN 做滤波_NN 之后_LC 再_AD 利用_VV 垂直_JJ 滤波器_NN 对_P 水平_JJ 边界_NN 做滤波_NN ，_PU 图一_NN 内_LC 的_DEC 红色_JJ 数字_NN 为_VC 做滤波_NN 的_DEG 顺序_NN 。_PU 特_AD 別_VV 注意_VV 到_VV 如果_CS 4x4_CD 区块_NN 的_DEG 边界_NN 为_VC 影像_VV 的_DEC 边界_NN 则_AD 不_AD 做_VV 区块_NN 滤_NN 波_ETC 。_PU

每_DT 一_CD 个_M 4x4_NN 的_DEG 亮度_NN 区块_NN 中_LC 需要_VV 做_VV 滤波_NN 的_DEG 区块_NN 都_AD 会_VV 计算_VV 出_VV 一_CD 个_M 边界_NN 强度_NN 。_PU 色度_NN 区块_NN 的_DEG 边界_NN 强度_NN 是_VC 对_P 亮度_NN 区块_NN 已经_AD 求得_VV 的_DEC 边界_NN 强度_NN 做_VV 取样_VA ，_PU 如_P 图_NN 二_CD 所_MSP 示_VV 。_PU

计算_VV 边界_NN 强度_NN （_PU Bs_NN ）_PU 以_P 决定_JJ 两_CD 个_M 4x4_NN 的_DEG 区块_NN 间_LC 不_AD 连续_VV 的_DEC 程度_NN 。_PU 高阶_NN 视讯_NN 编码_NN 的_DEG 边界_NN 强度_NN 值_VV 从_P 0_CD 到_CC 4_CD 。_PU 若_CS 两_CD 个_M 区块_NN 皆_AD 属于_VV 画面_NN 内_LC 编码_NN （_PU Intra_NN -_PU coded_NN ）_PU 且_CC 边界_NN 属于_VV 宏区块_NN 的_DEG 边界_NN ，_PU 则_AD 这_DT 两_CD 个_M 区块_NN 间_LC 的_DEG 边界_NN 强度_NN 为_VC 4_CD 。_PU 若_CS 其中_NN 一_CD 个_M 为_P 画面_NN 内_LC 编码_NN 或是_CC 不_AD 在_VV 宏区块_NN 的_DEG 边界_NN 上_LC ，_PU 则_AD 这_DT 两_CD 个_M 区块_NN 间_LC 的_DEG 边界_NN 强度_NN 为_VC 3_CD 。_PU 若_CS 这_DT 个_M 区块_NN 的_DEG 转换_NN 系数_NN 非_VC 0_CD ，_PU 则_AD 这_DT 两_CD 个_M 区块_NN 间_LC 的_DEG 边界_NN 强度_NN 为_VC 2_CD 。_PU 最后_AD 如果_CS 使用_VV 不同_VA 的_DEC 参考_JJ 影像_NN 或_CC 是_VC 两_CD 个_M 区块_NN 间_LC 的_DEG 移动_JJ 向量_NN （_PU MotionVectors_NN ）_PU 大于_VV 等于_VV 4_CD ，_PU 则_AD 这_DT 两_CD 个_M 区块_NN 间_LC 的_DEG 边界_NN 强度_NN 为_VC 1_CD 。_PU 剩下_VV 的_DEC 情况_NN ，_PU 两_CD 个_M 区块_NN 间_LC 的_DEG 边界_NN 强度_NN 皆_AD 为_VC 0_CD 。_PU 总结_NN 以上_LC 叙述_VV 得到_VV 边界_NN 强度_NN 的_DEC 判断_NN 流程_NN 如_P 图_NN 三_CD 所_MSP 示_VV 。_PU

边界_NN 强度_NN 如果_CS 大于_VV 0_CD 则_AD 对_P 这_DT 个_M 边界_NN 进行_VV 分析_NN ，_PU 判断_VV 是否_AD 为_VC 人造_NN 边界_NN 。_PU 图_NN 四_CD 是_VC 利用_VV 水平_JJ 滤波器_NN 对_P 垂直_JJ 边界_NN 做滤波_NN 的_DEC 示意图_NN ，_PU 一行_AD 有_VE 八_CD 个_M 点_NN p3_CD 、_PU p2_NN 、_PU p1_NN 、_PU p0_NN 、_PU q0_NN 、_PU q1_NN 、_PU q2_NN 以及_CC q3_NN ，_PU p0_NN 及_CC q0_NN 之间_LC 为_VC 两_CD 区块_NN 的_DEG 边界_NN 。_PU 判断_VV 是否_AD 为_VC 人造_NN 边界_NN 的_DEC 条件_NN 如下_VV 所_MSP 示_VV ：_PU
α_NN 与_P β_NN 两_CD 个_M 函数_NN 一般_AD 利用_VV 查_VV 表法_NN 计算值_NN ，_PU 而_CC Index_NN 和_CC Index_NN 计算_NN 方式_NN 如下_VV
其中_NN Offset_NN 和_CC Offset_NN 为_VC 编码器_NN 的_DEG 参数_NN ，_PU QP_NN 为_VC 量化_VV 参数_NN （_PU QuantizationParameter_NN ）_PU 。_PU 如果_CS 上面_NN 四_CD 个_M 条件_NN 是_VC 都_AD 成立_VV 则_AD p_NN 0_CD 与_CC q0_CD 之间_LC 的_DEG 边界_NN 为_VC 人造_NN 边界_NN 。_PU

高_JJ 效率_NN 视讯_NN 编码_NN （_PU HEVC_NN ）_PU 的_DEC 去区块_NN 滤波器_NN 是_VC 以_P 高阶_JJ 视讯_NN 编码_NN 的_DEC 为_VC 基础_NN ，_PU 但_CC 不_AD 像_P 高_JJ 阶视讯_NN 编码_NN 采用_VV 4x4_CD 的_DEG 区块_NN 大_VA 小_VA ，_PU 高效率_NN 视讯_NN 编码_NN 采用_VV 8x8_CD 的_DEG 区块_NN 大小_AD ，_PU 这_DT 个_M 限制_NN 减少_VV 最糟_JJ 情况_NN 的_DEC 运算_NN 复杂_VA 度_M 而_CC 不_AD 降低_VV 视觉_NN 上_LC 的_DEG 品质_NN 。_PU 高效率_NN 视讯_NN 编码_NN 还_AD 改进_VV 去区块_NN 滤波器_NN 可以_VV 让_VV 互_NN 不_AD 相_AD 重叠_VV 的_DEC 区块_NN 平行_AD 做_VV 处理_VV ，_PU 边界_NN 强度_NN 也_AD 从_P 0_CD 到_CC 4_CD 变为_VV 0_CD 到_CC 2_CD 。_PU


